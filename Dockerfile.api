FROM node:20-alpine

WORKDIR /app

# Install json-server globally
RUN npm install -g json-server

# Copy db.json and any configuration
COPY src/mocks/companies-lookup.json ./db.json

EXPOSE 3001

# Run json-server with host 0.0.0.0 to allow external connections
CMD ["json-server", "--watch", "db.json", "--port", "3001", "--host", "0.0.0.0"]